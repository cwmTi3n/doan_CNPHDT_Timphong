<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="/layout-web :: head">
</head>
<body data-spy="scroll" data-target=".site-navbar-target" data-offset="300" onLoad="active()">
	<div class="site-wrap">
		<div class="site-mobile-menu site-navbar-target">
			<div class="site-mobile-menu-header">
				<div class="site-mobile-menu-close mt-3">
					<span class="icon-close2 js-menu-toggle"></span>
				</div>
			</div>
			<div class="site-mobile-menu-body"></div>
		</div>
        <div id="sticky-wrapper" class="sticky-wrapper">
            <header th:replace="/layout-web :: header"></header>
        </div>
        <!--Body-->
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" type="text/css">
		    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
		    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600" rel="stylesheet" type="text/css">
        <link rel="stylesheet" type="text/css" th:href="@{/css/chat.css}">
        <div class="site-section site-section-phong">
            <div class="container">
                <div class="chat-container">
                    <div class="header">
                      <img class="avatar rounded-circle" th:src="${nguoinhan.anhdd}" alt="Avatar" onerror="this.src = '/images/avatar.jpg'">
                      <div class="user-info">
                        <p class="mt-3" th:text="${nguoinhan.hoten}"></p>
                        <p id="nguoinhan" th:text="${nguoinhan.username}" hidden></p>
                      </div>
                    </div>
                    <div class="message-frame">
                      <div id="content-chat" class="message-container">
                        <div th:each="tinnhan : ${tinnhans}" th:classappend="${tinnhan.nguoinhan.taikhoanId==nguoinhan.taikhoanId?'message sender':'message receiver'}">
                          <div class="message-content">
                            <p class="msg" th:text="${tinnhan.noidung}"></p>
                          </div>
                          <div class="message-time">
                            <span th:text="${tinnhan.thoigian}"></span>
                          </div>
                        </div>
                      </div>
                      <div class="input-container">
                          <input id="private-message" type="text" class="message-input" placeholder="Nhập tin nhắn...">
                          <button id="send-private" class="send-button">Gửi</button>
                      </div>
                    </div>
                </div>
            </div>
        </div>
        <!--/Body-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.1/js/bootstrap.bundle.min.js"></script>
    </div>
    <footer th:replace="/layout-web :: footer"></footer>
</body>
</html>